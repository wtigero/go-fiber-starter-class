# âš¡ Google Wire (Code Generation DI)

## ğŸ¯ à¸§à¸±à¸•à¸–à¸¸à¸›à¸£à¸°à¸ªà¸‡à¸„à¹Œ
à¹€à¸£à¸µà¸¢à¸™à¸£à¸¹à¹‰ **Google Wire** - Code Generation Dependency Injection à¸—à¸µà¹ˆà¹€à¸£à¹‡à¸§à¸—à¸µà¹ˆà¸ªà¸¸à¸”

## ğŸ’¡ à¸«à¸¥à¸±à¸à¸à¸²à¸£ Google Wire

```go
//go:build wireinject
// +build wireinject

//go:generate wire
func InitializeUserController() *controller.UserController {
    wire.Build(
        repository.NewUserRepository,
        service.NewUserService,
        controller.NewUserController,
    )
    return nil // Wire à¸ˆà¸° generate à¹‚à¸„à¹‰à¸”à¸ˆà¸£à¸´à¸‡à¹ƒà¸«à¹‰
}
```

## ğŸ—ï¸ à¹‚à¸„à¸£à¸‡à¸ªà¸£à¹‰à¸²à¸‡

```
03-google-wire/
â”œâ”€â”€ models/
â”‚   â””â”€â”€ user.go           # Entity (à¹€à¸«à¸¡à¸·à¸­à¸™à¹€à¸”à¸´à¸¡)
â”œâ”€â”€ repository/
â”‚   â””â”€â”€ user_repository.go # Data layer
â”œâ”€â”€ service/
â”‚   â””â”€â”€ user_service.go    # Business logic  
â”œâ”€â”€ controller/
â”‚   â””â”€â”€ user_controller.go # HTTP handlers
â”œâ”€â”€ wire.go               # âš¡ Wire injection setup
â”œâ”€â”€ wire_gen.go           # ğŸ¤– Auto-generated (à¸«à¹‰à¸²à¸¡à¹à¸à¹‰)
â”œâ”€â”€ main.go               # ğŸ”Œ Wire-generated DI
â””â”€â”€ go.mod                # + wire dependency
```

## ğŸ”„ Data Flow (Google Wire)

```
wire.go â†’ wire generate â†’ wire_gen.go â†’ main.go à¹ƒà¸Šà¹‰ generated function
         â†“
    Wire à¸—à¸³:
    1. à¸­à¹ˆà¸²à¸™ wire.Build()
    2. à¸ªà¸£à¹‰à¸²à¸‡à¹‚à¸„à¹‰à¸” Go à¸ˆà¸£à¸´à¸‡
    3. à¹€à¸£à¹‡à¸§à¹€à¸—à¹ˆà¸² manual constructor
```

## âš¡ Wire Setup

```go
// wire.go - à¸™à¸´à¸¢à¸²à¸¡ dependencies
//go:build wireinject

package main

import (
    "wire-di/controller"
    "wire-di/repository" 
    "wire-di/service"
    "github.com/google/wire"
)

//go:generate wire
func InitializeUserController() *controller.UserController {
    wire.Build(
        repository.NewUserRepository,
        service.NewUserService,
        controller.NewUserController,
    )
    return nil // Wire à¸ˆà¸°à¹à¸—à¸™à¸—à¸µà¹ˆ
}
```

## âœ… à¸‚à¹‰à¸­à¸”à¸µ Google Wire

- **âš¡ Fastest**: à¹€à¸£à¹‡à¸§à¹€à¸—à¹ˆà¸² Manual Constructor (à¹„à¸¡à¹ˆà¸¡à¸µ reflection)
- **ğŸ›¡ï¸ Compile-time Safety**: à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š dependencies à¸•à¸­à¸™ compile
- **ğŸ¤– Auto-generation**: à¸ªà¸£à¹‰à¸²à¸‡à¹‚à¸„à¹‰à¸”à¹ƒà¸«à¹‰à¸­à¸±à¸•à¹‚à¸™à¸¡à¸±à¸•à¸´
- **ğŸ§¹ Clean**: à¹‚à¸„à¹‰à¸”à¸—à¸µà¹ˆ generate à¸ªà¸°à¸­à¸²à¸” à¸­à¹ˆà¸²à¸™à¸‡à¹ˆà¸²à¸¢
- **ğŸ” Transparent**: à¹€à¸«à¹‡à¸™à¹‚à¸„à¹‰à¸”à¸ˆà¸£à¸´à¸‡à¸—à¸µà¹ˆà¸–à¸¹à¸à¸ªà¸£à¹‰à¸²à¸‡

## âŒ à¸‚à¹‰à¸­à¹€à¸ªà¸µà¸¢

- **ğŸ”§ Complex Setup**: à¸•à¹‰à¸­à¸‡ generate à¹‚à¸„à¹‰à¸”à¸—à¸¸à¸à¸„à¸£à¸±à¹‰à¸‡à¸—à¸µà¹ˆà¹€à¸›à¸¥à¸µà¹ˆà¸¢à¸™
- **ğŸ“š Learning Curve**: à¸•à¹‰à¸­à¸‡à¹€à¸‚à¹‰à¸²à¹ƒà¸ˆ build tags à¹à¸¥à¸° generation
- **ğŸ”„ Workflow**: à¸•à¹‰à¸­à¸‡ run `go generate` à¸«à¸¥à¸±à¸‡à¹à¸à¹‰à¹„à¸‚ dependencies

## ğŸ› ï¸ à¸à¸²à¸£ Setup

```bash
# 1. à¸•à¸´à¸”à¸•à¸±à¹‰à¸‡ Wire
go install github.com/google/wire/cmd/wire@latest

# 2. à¸ªà¸£à¹‰à¸²à¸‡ wire.go
# 3. Generate à¹‚à¸„à¹‰à¸”
go generate ./...

# 4. à¸£à¸±à¸™à¹à¸­à¸›
go run main.go
```

## ğŸ§ª à¸à¸²à¸£à¸—à¸”à¸ªà¸­à¸š

```bash
# à¸•à¸´à¸”à¸•à¸±à¹‰à¸‡ dependencies
go mod tidy

# Generate wire code
go generate ./...

# à¸£à¸±à¸™à¹à¸­à¸›
go run main.go

# à¸—à¸”à¸ªà¸­à¸š API
curl -X POST http://localhost:3000/users \
  -H "Content-Type: application/json" \
  -d '{"name":"Bob","email":"bob@example.com"}'

curl http://localhost:3000/users
```

## ğŸ“Š API Endpoints (à¹€à¸«à¸¡à¸·à¸­à¸™à¸—à¸¸à¸ pattern)

| Method | Endpoint     | Description |
|--------|-------------|-------------|
| GET    | /users      | à¸”à¸¶à¸‡à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸” |
| POST   | /users      | à¸ªà¸£à¹‰à¸²à¸‡à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰à¹ƒà¸«à¸¡à¹ˆ |
| GET    | /users/:id  | à¸”à¸¶à¸‡à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰à¸•à¸²à¸¡ ID |
| PUT    | /users/:id  | à¹à¸à¹‰à¹„à¸‚à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰ |
| DELETE | /users/:id  | à¸¥à¸šà¸œà¸¹à¹‰à¹ƒà¸Šà¹‰ |

## ğŸ” Generated Code (wire_gen.go)

Wire à¸ˆà¸°à¸ªà¸£à¹‰à¸²à¸‡à¹‚à¸„à¹‰à¸”à¹à¸šà¸šà¸™à¸µà¹‰à¹ƒà¸«à¹‰:

```go
// Code generated by Wire. DO NOT EDIT.

//go:generate go run github.com/google/wire/cmd/wire
//go:build !wireinject

package main

import (
    "wire-di/controller"
    "wire-di/repository"
    "wire-di/service"
)

func InitializeUserController() *controller.UserController {
    userRepository := repository.NewUserRepository()
    userService := service.NewUserService(userRepository)
    userController := controller.NewUserController(userService)
    return userController
}
```

## ğŸ¯ à¹€à¸¡à¸·à¹ˆà¸­à¹„à¸«à¸£à¹ˆà¸„à¸§à¸£à¹ƒà¸Šà¹‰?

âœ… **à¹ƒà¸Šà¹‰à¹€à¸¡à¸·à¹ˆà¸­:**
- à¹‚à¸›à¸£à¹€à¸ˆà¸„à¹ƒà¸«à¸à¹ˆ (50+ services)
- à¸•à¹‰à¸­à¸‡à¸à¸²à¸£ performance à¸ªà¸¹à¸‡à¸ªà¸¸à¸”
- à¸—à¸µà¸¡ experienced à¸à¸±à¸š Go
- à¸•à¹‰à¸­à¸‡à¸à¸²à¸£ compile-time safety

âŒ **à¹„à¸¡à¹ˆà¸„à¸§à¸£à¹ƒà¸Šà¹‰à¹€à¸¡à¸·à¹ˆà¸­:**
- à¹‚à¸›à¸£à¹€à¸ˆà¸„à¹€à¸¥à¹‡à¸à¹† (< 10 services)
- à¸—à¸µà¸¡à¹„à¸¡à¹ˆà¸„à¸¸à¹‰à¸™à¸Šà¸´à¸™ code generation
- Rapid prototyping

## ğŸ”„ à¹€à¸›à¸£à¸µà¸¢à¸šà¹€à¸—à¸µà¸¢à¸šà¸—à¸±à¹‰à¸‡ 3 à¹à¸šà¸š

| Feature | Constructor | Uber Dig | Google Wire |
|---------|-------------|----------|-------------|
| **Performance** | â­â­â­â­â­ | â­â­â­ | â­â­â­â­â­ |
| **Setup** | â­â­â­â­â­ | â­â­â­ | â­â­ |
| **Auto-wiring** | âŒ | âœ… | âœ… |
| **Compile Safety** | âœ… | âŒ | âœ… |
| **Learning** | â­â­â­â­â­ | â­â­â­ | â­â­ |
| **Flexibility** | â­â­ | â­â­â­â­â­ | â­â­â­ | 